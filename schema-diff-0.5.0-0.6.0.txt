/*
Statement 0
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."consumer_group" DROP CONSTRAINT "consumer_group_cluster_fkey";

/*
Statement 1
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."consumer_group_detail" DROP CONSTRAINT "consumer_group_detail_consumer_group_fkey";

/*
Statement 2
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."consumer_offset" DROP CONSTRAINT "consumer_offset_consumer_group_fkey";

/*
Statement 3
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."consumer_offset" DROP CONSTRAINT "consumer_offset_topition_fkey";

/*
Statement 4
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."header" DROP CONSTRAINT "header_topition_offset_id_fkey";

/*
Statement 5
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."producer" DROP CONSTRAINT "producer_cluster_fkey";

/*
Statement 6
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."producer_detail" DROP CONSTRAINT "producer_detail_producer_epoch_fkey";

/*
Statement 7
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."producer_detail" DROP CONSTRAINT "producer_detail_topition_fkey";

/*
Statement 8
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."producer_epoch" DROP CONSTRAINT "producer_epoch_producer_fkey";

/*
Statement 9
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."record" DROP CONSTRAINT "record_topition_fkey";

/*
Statement 10
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."record" ADD COLUMN "transaction_id" xid8 DEFAULT pg_current_xact_id() NOT NULL;

/*
Statement 11
  - ACQUIRES_SHARE_ROW_EXCLUSIVE_LOCK: This will lock writes to the owning table and referenced table while the constraint is being added. Instead, consider adding the constraint as NOT VALID and validating it later.
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."header" ADD CONSTRAINT "header_topition_offset_id_fkey" FOREIGN KEY (topition, offset_id) REFERENCES record(topition, offset_id) ON DELETE CASCADE;

/*
Statement 12
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."topic" DROP CONSTRAINT "topic_cluster_fkey";

/*
Statement 13
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."topic_configuration" DROP CONSTRAINT "topic_configuration_topic_fkey";

/*
Statement 14
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."topition" DROP CONSTRAINT "topition_topic_fkey";

/*
Statement 15
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."topic_configuration" ADD CONSTRAINT "topic_configuration_topic_fkey" FOREIGN KEY (topic) REFERENCES topic(id) ON DELETE CASCADE NOT VALID;

/*
Statement 16
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."topic_configuration" VALIDATE CONSTRAINT "topic_configuration_topic_fkey";

/*
Statement 17
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn" DROP CONSTRAINT "txn_cluster_fkey";

/*
Statement 18
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."topic" ADD CONSTRAINT "topic_cluster_fkey" FOREIGN KEY (cluster) REFERENCES cluster(id) ON DELETE CASCADE NOT VALID;

/*
Statement 19
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."topic" VALIDATE CONSTRAINT "topic_cluster_fkey";

/*
Statement 20
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn" DROP CONSTRAINT "txn_producer_fkey";

/*
Statement 21
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."producer" ADD CONSTRAINT "producer_cluster_fkey" FOREIGN KEY (cluster) REFERENCES cluster(id) ON DELETE CASCADE NOT VALID;

/*
Statement 22
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."producer" VALIDATE CONSTRAINT "producer_cluster_fkey";

/*
Statement 23
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_detail" DROP CONSTRAINT "txn_detail_producer_epoch_fkey";

/*
Statement 24
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."producer_epoch" ADD CONSTRAINT "producer_epoch_producer_fkey" FOREIGN KEY (producer) REFERENCES producer(id) ON DELETE CASCADE NOT VALID;

/*
Statement 25
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."producer_epoch" VALIDATE CONSTRAINT "producer_epoch_producer_fkey";

/*
Statement 26
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."producer_detail" ADD CONSTRAINT "producer_detail_producer_epoch_fkey" FOREIGN KEY (producer_epoch) REFERENCES producer_epoch(id) ON DELETE CASCADE NOT VALID;

/*
Statement 27
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."producer_detail" VALIDATE CONSTRAINT "producer_detail_producer_epoch_fkey";

/*
Statement 28
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_detail" DROP CONSTRAINT "txn_detail_transaction_fkey";

/*
Statement 29
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn" ADD CONSTRAINT "txn_cluster_fkey" FOREIGN KEY (cluster) REFERENCES cluster(id) ON DELETE CASCADE NOT VALID;

/*
Statement 30
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn" VALIDATE CONSTRAINT "txn_cluster_fkey";

/*
Statement 31
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn" ADD CONSTRAINT "txn_producer_fkey" FOREIGN KEY (producer) REFERENCES producer(id) ON DELETE CASCADE NOT VALID;

/*
Statement 32
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn" VALIDATE CONSTRAINT "txn_producer_fkey";

/*
Statement 33
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_offset_commit" DROP CONSTRAINT "txn_offset_commit_consumer_group_fkey";

/*
Statement 34
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."consumer_group" ADD CONSTRAINT "consumer_group_cluster_fkey" FOREIGN KEY (cluster) REFERENCES cluster(id) ON DELETE CASCADE NOT VALID;

/*
Statement 35
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."consumer_group" VALIDATE CONSTRAINT "consumer_group_cluster_fkey";

/*
Statement 36
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."consumer_group_detail" ADD CONSTRAINT "consumer_group_detail_consumer_group_fkey" FOREIGN KEY (consumer_group) REFERENCES consumer_group(id) ON DELETE CASCADE NOT VALID;

/*
Statement 37
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."consumer_group_detail" VALIDATE CONSTRAINT "consumer_group_detail_consumer_group_fkey";

/*
Statement 38
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."consumer_offset" ADD CONSTRAINT "consumer_offset_consumer_group_fkey" FOREIGN KEY (consumer_group) REFERENCES consumer_group(id) ON DELETE CASCADE NOT VALID;

/*
Statement 39
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."consumer_offset" VALIDATE CONSTRAINT "consumer_offset_consumer_group_fkey";

/*
Statement 40
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_offset_commit" DROP CONSTRAINT "txn_offset_commit_txn_detail_fkey";

/*
Statement 41
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_offset_commit_tp" DROP CONSTRAINT "txn_offset_commit_tp_offset_commit_fkey";

/*
Statement 42
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_offset_commit" ADD CONSTRAINT "txn_offset_commit_consumer_group_fkey" FOREIGN KEY (consumer_group) REFERENCES consumer_group(id) ON DELETE CASCADE NOT VALID;

/*
Statement 43
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_offset_commit" VALIDATE CONSTRAINT "txn_offset_commit_consumer_group_fkey";

/*
Statement 44
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_offset_commit_tp" DROP CONSTRAINT "txn_offset_commit_tp_topition_fkey";

/*
Statement 45
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_offset_commit_tp" ADD CONSTRAINT "txn_offset_commit_tp_offset_commit_fkey" FOREIGN KEY (offset_commit) REFERENCES txn_offset_commit(id) ON DELETE CASCADE NOT VALID;

/*
Statement 46
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_offset_commit_tp" VALIDATE CONSTRAINT "txn_offset_commit_tp_offset_commit_fkey";

/*
Statement 47
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_produce_offset" DROP CONSTRAINT "txn_produce_offset_txn_topition_fkey";

/*
Statement 48
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_topition" DROP CONSTRAINT "txn_topition_topition_fkey";

/*
Statement 49
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_topition" DROP CONSTRAINT "txn_topition_txn_detail_fkey";

/*
Statement 50
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_detail" ADD CONSTRAINT "txn_detail_producer_epoch_fkey" FOREIGN KEY (producer_epoch) REFERENCES producer_epoch(id) ON DELETE CASCADE NOT VALID;

/*
Statement 51
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_detail" VALIDATE CONSTRAINT "txn_detail_producer_epoch_fkey";

/*
Statement 52
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_detail" ADD CONSTRAINT "txn_detail_transaction_fkey" FOREIGN KEY (transaction) REFERENCES txn(id) ON DELETE CASCADE NOT VALID;

/*
Statement 53
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_detail" VALIDATE CONSTRAINT "txn_detail_transaction_fkey";

/*
Statement 54
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_offset_commit" ADD CONSTRAINT "txn_offset_commit_txn_detail_fkey" FOREIGN KEY (txn_detail) REFERENCES txn_detail(id) ON DELETE CASCADE NOT VALID;

/*
Statement 55
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_offset_commit" VALIDATE CONSTRAINT "txn_offset_commit_txn_detail_fkey";

/*
Statement 56
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_topition" ADD CONSTRAINT "txn_topition_txn_detail_fkey" FOREIGN KEY (txn_detail) REFERENCES txn_detail(id) ON DELETE CASCADE NOT VALID;

/*
Statement 57
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_topition" VALIDATE CONSTRAINT "txn_topition_txn_detail_fkey";

/*
Statement 58
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_produce_offset" ADD CONSTRAINT "txn_produce_offset_txn_topition_fkey" FOREIGN KEY (txn_topition) REFERENCES txn_topition(id) ON DELETE CASCADE NOT VALID;

/*
Statement 59
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_produce_offset" VALIDATE CONSTRAINT "txn_produce_offset_txn_topition_fkey";

/*
Statement 60
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."watermark" DROP CONSTRAINT "watermark_topition_fkey";

/*
Statement 61
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."topition" ADD CONSTRAINT "topition_topic_fkey" FOREIGN KEY (topic) REFERENCES topic(id) ON DELETE CASCADE NOT VALID;

/*
Statement 62
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."topition" VALIDATE CONSTRAINT "topition_topic_fkey";

/*
Statement 63
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."consumer_offset" ADD CONSTRAINT "consumer_offset_topition_fkey" FOREIGN KEY (topition) REFERENCES topition(id) ON DELETE CASCADE NOT VALID;

/*
Statement 64
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."consumer_offset" VALIDATE CONSTRAINT "consumer_offset_topition_fkey";

/*
Statement 65
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."producer_detail" ADD CONSTRAINT "producer_detail_topition_fkey" FOREIGN KEY (topition) REFERENCES topition(id) ON DELETE CASCADE NOT VALID;

/*
Statement 66
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."producer_detail" VALIDATE CONSTRAINT "producer_detail_topition_fkey";

/*
Statement 67
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_offset_commit_tp" ADD CONSTRAINT "txn_offset_commit_tp_topition_fkey" FOREIGN KEY (topition) REFERENCES topition(id) ON DELETE CASCADE NOT VALID;

/*
Statement 68
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_offset_commit_tp" VALIDATE CONSTRAINT "txn_offset_commit_tp_topition_fkey";

/*
Statement 69
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_topition" ADD CONSTRAINT "txn_topition_topition_fkey" FOREIGN KEY (topition) REFERENCES topition(id) ON DELETE CASCADE NOT VALID;

/*
Statement 70
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."txn_topition" VALIDATE CONSTRAINT "txn_topition_topition_fkey";

/*
Statement 71
  - ACQUIRES_SHARE_ROW_EXCLUSIVE_LOCK: This will lock writes to the owning table and referenced table while the constraint is being added. Instead, consider adding the constraint as NOT VALID and validating it later.
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."record" ADD CONSTRAINT "record_topition_fkey" FOREIGN KEY (topition) REFERENCES topition(id) ON DELETE CASCADE;

/*
Statement 72
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."watermark" ADD CONSTRAINT "watermark_topition_fkey" FOREIGN KEY (topition) REFERENCES topition(id) ON DELETE CASCADE NOT VALID;

/*
Statement 73
*/
SET SESSION statement_timeout = 3000;
SET SESSION lock_timeout = 3000;
ALTER TABLE "public"."watermark" VALIDATE CONSTRAINT "watermark_topition_fkey";
